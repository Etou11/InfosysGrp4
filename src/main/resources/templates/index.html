<!DOCTYPE html>
<html lang="de" xmlns="http://www.w3.org/1999/html">
    <head>
        <meta charset="utf-8">
        <title>JumbleShare</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="styles.css" type="text/css" rel="stylesheet"/>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="//cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
        <style>
          .table {
              display: block;
              position: relative;
              width: 50%;
              height: 400px;
              left: 25%;
              margin-top: 5%;
              margin-bottom: 5%;
              border: 2px solid #ccc;
          }

          .vehicles {
              display: inline-block;
              margin: 90px;
          }

          .vehicles > #vehicle{
              width: 300px;
              height: 200px;
              position: relative;
              margin: 5px;
              float: left;
              border: 1px solid black;
          }

          #vehicle:nth-child(1){
              background-image: url('images/Auto.jpg');
              background-size: cover;
          }

          #vehicle:nth-child(2){
              background-image: url('images/Transporter.png');
              background-size: cover;
          }
          #vehicle:nth-child(3){
              background-image: url('images/Motorrad.jpg');
              background-size: cover;
          }
          #vehicle:nth-child(4){
              background-image: url('images/Roller.jpg');
              background-size: cover;
          }
          #vehicle:nth-child(5){
              background-image: url('images/E-Scooter.jpg');
              background-size: cover;
          }
          #vehicle:nth-child(6){
              background-image: url('images/EBike.jpg');
              background-size: cover;
          }
          /* #vehicle:nth-child(7){
              background-image: url('images/Fahrrad.jpg');
              background-size: cover;
          } */

        </style>
    </head>

    <header class="site-header">
        <div class="wrapper site-header__wrapper">
          <a href="index.html" class="logo"><img src="images/logo_small.png" alt="logo" width="50%"></a>
          <nav class="nav">
            <ul class="nav__wrapper">
              <li class="nav__item"><a href="/index.html">Home</a></li>
              <li class="nav__item"><a href="/new.html">Add Vehicle</a></li>
              <li class="nav__item"><a href="/account.html">My Account</a></li>
              <li class="nav__item"><a href="/contact.html">Contact</a></li>
              <li class="nav__item"><a href="/login.html">Log In</a></li>
            </ul>
          </nav>
        </div>
      </header>

    <body>

    <table id="datatable-vehicle-index" class="datatable datatable-vehicle datatable-vehicle-index" style="width:100%">
        <thead>
        <tr>
            <th>Brand</th>
            <th>Plate</th>
            <th>Price per Minute</th>
            <th>Longitude</th>
            <th>Latitude</th>
            <th>Vehicle Type</th>
        </tr>
        </thead>
        <tfoot>
        <tr>

        </tr>
        </tfoot>
    </table>

    <script>

    function createDataTable(args) {

        $('#datatable-vehicle-index').DataTable( {
            data: args,
            "columns": [
            { "data": "brand" },
            { "data": "plateOrSerialNumber" },
            { "data": "pricePerMinute" },
            { "data": "longitude" },
            { "data": "latitude" },
            { "data": "vehicleTypeId" }
               ]
        } );

    }

    $(document).ready(function() {

         $.ajax({
            type: "GET",
            url: "/getVehicleData",
            success: function (res) {
                createDataTable(res);
            },
            error: (xhr, ajaxOptions, thrownError) => {
                console.error(xhr.responseText, { xhr });
            }
        });

} );





    </script>

    </body>

    <footer>
        <p> Follow us </p>
        <div id="icons">
            
          <img src="images/facebook.svg" alt="facebook"> 
          <img src="images/instagram.svg" alt="instagram">
          <img src="images/twitter.svg" alt="twitter">
          <img src="images/linkedin.svg" alt="linkedin">
        </div>

        <div id="copyright"> <p> &copy; 2021 by JumbleShare</p> </div>
    </footer>
</head>
</html>